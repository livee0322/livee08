<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BYHEN · 관리자</title>
  <link rel="stylesheet" href="css/byhen-admin.css?v=1.0.2" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css" />
</head>
<body>
  <header class="adm-appbar">
    <a class="ic" href="byhen.html" aria-label="브랜드 페이지"><i class="ri-home-2-line"></i></a>
    <strong>BYHEN · 관리자</strong>
    <button id="publishBtn" class="btn pri sm"><i class="ri-upload-2-line"></i> 발행</button>
  </header>

  <main class="adm-wrap">
    <div id="admMsg" class="note" role="status" aria-live="polite"></div>

    <form id="brandForm" novalidate>
      <!-- 기본 -->
      <section class="card">
        <div class="sec-hd"><h2>기본 정보</h2></div>
        <div class="grid2">
          <div>
            <label class="lb">브랜드명 *</label>
            <input id="name" class="input" required placeholder="예) BYHEN" />
          </div>
          <div>
            <label class="lb">슬러그 *</label>
            <input id="slug" class="input" required placeholder="예) byhen" />
            <small class="help">URL 키 (자동 소문자)</small>
          </div>
        </div>

        <div class="grid2">
          <div>
            <label class="lb">메인 썸네일 *</label>
            <div class="upload">
              <img id="thumbPrev" alt="미리보기" />
              <button id="thumbTrigger" type="button" class="btn"><i class="ri-image-add-line"></i> 이미지 삽입</button>
              <input id="thumbFile" type="file" accept="image/*" hidden />
            </div>
            <small class="help">16:9 권장 · 업로드 즉시 미리보기</small>
          </div>

          <div>
            <label class="lb">서브 썸네일(최대 5장)</label>
            <div class="upload-row">
              <button id="subsTrigger" type="button" class="btn"><i class="ri-images-line"></i> 추가</button>
              <input id="subsFile" type="file" accept="image/*" hidden multiple />
            </div>
            <div id="subsGrid" class="thumb-grid"></div>
          </div>
        </div>
      </section>

      <!-- 소개/안내 -->
      <section class="card">
        <div class="sec-hd"><h2>소개 · 이용안내 · 금액</h2></div>
        <label class="lb">한 줄 소개</label>
        <input id="intro" class="input" placeholder="예) 성수동 다목적 촬영 스튜디오" />
        <label class="lb">상세 소개</label>
        <textarea id="description" class="ta" placeholder="스튜디오 상세 설명"></textarea>
        <div class="grid2">
          <div>
            <label class="lb">이용 안내</label>
            <textarea id="usageGuide" class="ta" placeholder="예약/환불/주의사항 등"></textarea>
          </div>
          <div>
            <label class="lb">금액 안내</label>
            <textarea id="priceInfo" class="ta" placeholder="패키지/옵션/부가세 등"></textarea>
          </div>
        </div>
      </section>

      <!-- 연락/주소 -->
      <section class="card">
        <div class="sec-hd"><h2>연락처 · 주소</h2></div>
        <div class="grid3">
          <div><label class="lb">전화</label><input id="phone" class="input" placeholder="02-000-0000" /></div>
          <div><label class="lb">이메일</label><input id="email" class="input" type="email" placeholder="hello@brand.com" /></div>
          <div><label class="lb">카카오</label><input id="kakao" class="input" placeholder="https://pf.kakao.com/..." /></div>
        </div>
        <label class="lb">주소</label>
        <input id="address" class="input" placeholder="예) 서울 성수동 ..." />
        <label class="lb">지도 링크</label>
        <input id="mapLink" class="input" placeholder="네이버/카카오 지도 URL" />
      </section>

      <!-- 갤러리 -->
      <section class="card">
        <div class="sec-hd"><h2>갤러리</h2></div>
        <div class="upload-row">
          <button id="galleryTrigger" type="button" class="btn"><i class="ri-image-add-line"></i> 갤러리 추가</button>
          <input id="galleryFile" type="file" accept="image/*" hidden multiple />
        </div>
        <div id="galleryGrid" class="thumb-grid"></div>
      </section>

      <!-- 스케줄 -->
<section class="card">
  <div class="sec-hd">
    <h2>스케줄</h2>
    <div style="margin-left:auto;display:flex;gap:6px">
      <button id="setStartBtn" class="btn sm"><i class="ri-time-line"></i> 시작시간</button>
      <button id="setEndBtn"   class="btn sm"><i class="ri-timer-line"></i> 마감시간</button>
    </div>
  </div>

  <div class="grid2">
    <!-- 달력 -->
    <div class="card" style="padding:0">
      <div class="cal-hd" style="display:flex;align-items:center;gap:8px;padding:10px;border-bottom:1px solid var(--line);background:#f8fafc">
        <button class="nav" id="admPrevM" aria-label="이전 달" style="width:36px;height:36px;border:1px solid var(--line);border-radius:10px;background:#fff"><i class="ri-arrow-left-s-line"></i></button>
        <strong id="admMonTitle" style="margin:0 auto;font-weight:900">0000-00</strong>
        <button class="nav" id="admNextM" aria-label="다음 달" style="width:36px;height:36px;border:1px solid var(--line);border-radius:10px;background:#fff"><i class="ri-arrow-right-s-line"></i></button>
      </div>
      <div class="cal-week" style="display:grid;grid-template-columns:repeat(7,1fr);padding:8px;background:#fcfcfd;border-bottom:1px solid var(--line);color:#475569;font-weight:800;text-align:center">
        <span>월</span><span>화</span><span>수</span><span>목</span><span>금</span><span>토</span><span>일</span>
      </div>
      <div id="admCalGrid" class="cal-grid" style="display:grid;grid-template-columns:repeat(7,1fr)"></div>

      <div style="display:flex;gap:8px;padding:10px;border-top:1px solid var(--line)">
        <button id="toggleClosedBtn" class="btn sm"><i class="ri-forbid-2-line"></i> 휴무 토글</button>
        <button id="resetDayBtn"   class="btn sm"><i class="ri-refresh-line"></i> 초기화</button>
        <div id="selDateLabel" class="muted" style="margin-left:auto"></div>
      </div>
    </div>

    <!-- 시간버튼 -->
    <div class="card">
      <div class="sec-hd"><h3 style="margin:0;font-size:16px;font-weight:900">시간 설정</h3></div>
      <div id="timesInfo" class="muted">달력에서 날짜를 선택하면 1시간 단위 버튼이 생성됩니다.</div>
      <div id="slotGrid" class="slot-grid" style="margin-top:8px"></div>
      <small class="muted">• 검은색: 예약 가능 / 회색: <b>마감</b> / 휴무일은 전체 비활성화</small>
    </div>
  </div>
</section>

<!-- 시작시간 모달 -->
<div class="modal" id="startModal" role="dialog" aria-modal="true">
  <div class="sheet">
    <header><strong>시작 시간 설정</strong><button class="x" data-x>✕</button></header>
    <div class="field"><label class="label">시작 시간</label><input id="startTimeInput" class="input" type="time" step="1800"></div>
    <div class="actions"><button class="btn ghost" data-x>취소</button><button id="saveStartTime" class="btn pri">저장</button></div>
  </div>
</div>

<!-- 마감시간 모달 -->
<div class="modal" id="endModal" role="dialog" aria-modal="true">
  <div class="sheet">
    <header><strong>마감 시간 설정</strong><button class="x" data-x>✕</button></header>
    <div class="field"><label class="label">마감 시간</label><input id="endTimeInput" class="input" type="time" step="1800"></div>
    <div class="actions"><button class="btn ghost" data-x>취소</button><button id="saveEndTime" class="btn pri">저장</button></div>
  </div>
</div>

      <div class="actions">
        <button id="saveDraftBtn" class="btn" type="button"><i class="ri-save-3-line"></i> 임시저장</button>
        <button id="saveBtn" class="btn pri" type="button"><i class="ri-check-line"></i> 저장</button>
      </div>
    </form>
  </main>

  <script src="js/config.js?v=2.12"></script>
  <script src="js/byhen-admin.js?v=1.0.2"></script>
</body>
</html>