<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>회원가입 - Livee</title>

  <!-- 폰트 & 공통 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/static/woff2/SUIT.css" />
  <link rel="stylesheet" href="css/main.css" />

  <!-- 가입 전용 스타일(v2) -->
  <link rel="stylesheet" href="css/signup.css" />
</head>
<body data-page="signup">
  <header class="lv-appbar">
    <div class="lv-title">회원가입</div>
    <div class="lv-actions"></div>
  </header>

  <main class="sg-wrap" role="main">
    <div id="sgMsg" class="notice" role="status" aria-live="polite"></div>

    <form id="signupForm" class="sg-form" novalidate>
      <!-- 역할 토글 -->
      <div class="sg-row">
        <label>역할 선택 *</label>
        <div class="role-toggle">
          <input type="radio" name="role" id="role-show" value="showhost" checked>
          <label for="role-show">쇼호스트</label>
          <input type="radio" name="role" id="role-brand" value="brand">
          <label for="role-brand">브랜드</label>
        </div>
      </div>

      <!-- 기본 정보 -->
      <div class="sg-row">
        <label for="email">이메일 *</label>
        <input id="email" type="email" placeholder="you@example.com" required>
      </div>

      <div class="grid-2">
        <div class="sg-row">
          <label for="password">비밀번호 *</label>
          <input id="password" type="password" placeholder="8자 이상" minlength="8" required>
        </div>
        <div class="sg-row">
          <label for="password2">비밀번호 확인 *</label>
          <input id="password2" type="password" required>
        </div>
      </div>

      <div class="grid-2">
        <div class="sg-row">
          <label for="name">이름 *</label>
          <input id="name" type="text" placeholder="홍길동" required>
        </div>
        <div class="sg-row">
          <label for="phone">휴대폰</label>
          <input id="phone" type="tel" inputmode="tel" placeholder="010-0000-0000">
        </div>
      </div>

      <!-- 쇼호스트 전용 -->
      <section id="roleShowhost" class="sg-card" aria-labelledby="hostTitle">
        <h2 id="hostTitle" class="sg-section-title">쇼호스트 정보</h2>

        <div class="grid-2">
          <div class="sg-row">
            <label for="shNickname">닉네임</label>
            <input id="shNickname" type="text" placeholder="닉네임">
          </div>
          <div class="sg-row">
            <label for="linkSNS">대표 SNS 링크</label>
            <input id="linkSNS" type="url" inputmode="url"
                   placeholder="https://instagram.com/... 또는 https://youtube.com/...">
          </div>
        </div>

        <div class="sg-row">
          <label for="bio">소개</label>
          <textarea id="bio" placeholder="한 줄 소개 또는 경력"></textarea>
        </div>
      </section>

      <!-- 브랜드 전용 -->
      <section id="roleBrand" class="sg-card" hidden aria-labelledby="brandTitle">
        <h2 id="brandTitle" class="sg-section-title">브랜드 정보</h2>

        <div class="sg-row">
          <label for="brandName">브랜드명 *</label>
          <input id="brandName" type="text" placeholder="예) ACME">
        </div>

        <div class="grid-2">
          <div class="sg-row">
            <label for="companyName">회사명</label>
            <input id="companyName" type="text" placeholder="회사명">
          </div>
          <div class="sg-row">
            <label for="businessNumber">사업자번호</label>
            <input id="businessNumber" type="text" inputmode="numeric" placeholder="000-00-00000">
          </div>
        </div>
      </section>

      <!-- 약관 -->
      <section class="terms-card" aria-labelledby="termsTitle">
        <div class="terms-head">
          <h2 id="termsTitle" class="sg-section-title" style="margin:0">약관 동의</h2>
        </div>
        <div class="terms-body">
          <div class="agree-row">
            <input id="agreeTerms" type="checkbox">
            <label for="agreeTerms">[필수] <a href="terms.html" target="_blank">서비스 이용약관</a> 동의</label>
          </div>
          <div class="agree-row">
            <input id="agreePrivacy" type="checkbox">
            <label for="agreePrivacy">[필수] <a href="privacy.html" target="_blank">개인정보처리방침</a> 동의</label>
          </div>
          <div class="agree-row">
            <input id="agreeAge" type="checkbox">
            <label for="agreeAge">[필수] 만 14세 이상입니다</label>
          </div>
          <div class="agree-row">
            <input id="agreeMarketing" type="checkbox">
            <label for="agreeMarketing">[선택] 마케팅 정보 수신 동의(이메일/문자)</label>
          </div>
          <div class="agree-row">
            <input id="agreeThird" type="checkbox">
            <label for="agreeThird">[선택] 제3자 제공/국외 이전 동의(서비스 인프라 제공자)</label>
          </div>
        </div>
      </section>

      <button class="sg-submit" type="submit">가입하기</button>
      <div class="page-bottom-space"></div>
    </form>
  </main>

  <script src="js/config.js"></script>
  <!-- 최소 토글 스크립트: 역할에 따라 섹션/필수필드 전환 -->
  <script>
    (function(){
      const show = document.getElementById('roleShowhost');
      const brand = document.getElementById('roleBrand');
      const brandName = document.getElementById('brandName');

      function applyRole(role){
        const isBrand = role === 'brand';
        brand.hidden = !isBrand;
        show.hidden = isBrand;
        // 브랜드 선택 시에만 브랜드명 필수
        if (brandName) brandName.required = isBrand;
      }

      document.addEventListener('change', (e)=>{
        if (e.target.name === 'role') applyRole(e.target.value);
      });

      // 초기 적용
      const checked = document.querySelector('input[name="role"]:checked');
      applyRole(checked ? checked.value : 'showhost');
    })();
  </script>
</body>
</html>