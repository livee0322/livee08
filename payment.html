<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ê²°ì œ Â· ê³„ì•½ í™•ì •</title>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/static/woff2/SUIT.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css">
  <link rel="stylesheet" href="css/reset-frame.css">
  <style>
    :root{--bd:#e5e7eb;--fg:#111827;--mut:#6b7280;--pri:#5449ff;}
    body{font-family:'SUIT',system-ui,-apple-system,sans-serif;background:#fff}
    .pay-wrap{max-width:720px;margin:0 auto;padding:16px 16px 80px}
    h1{font-size:22px;margin:6px 0 14px}
    .card{border:1px solid var(--bd);border-radius:16px;padding:14px;margin-bottom:12px}
    .row{display:flex;justify-content:space-between;margin:6px 0}
    .mut{color:var(--mut)}
    .amt{font-weight:900;font-size:22px}
    .ipt{width:100%;height:44px;border:1px solid var(--bd);border-radius:10px;padding:0 12px}
    .btns{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
    .btn{height:48px;border-radius:12px;border:1px solid var(--bd);padding:0 16px;background:#fff;font-weight:800}
    .btn.pri{background:var(--pri);color:#fff;border-color:transparent}
    .bank{background:#f9fafb;border:1px dashed var(--bd);padding:12px;border-radius:12px;margin-top:10px}
    .ok{display:none;position:fixed;inset:0;background:rgba(0,0,0,.55);align-items:center;justify-content:center;z-index:50}
    .ok.show{display:flex}
    .ok .sheet{background:#fff;border-radius:16px;padding:18px;border:1px solid var(--bd);width:min(420px,92%)}
  </style>
</head>
<body>
  <main class="pay-wrap">
    <h1>ê²°ì œ Â· ê³„ì•½ í™•ì •</h1>

    <section class="card">
      <div class="row"><div class="mut">ì˜¤í¼ ID</div><div id="offerId" class="mut"></div></div>
      <div class="row"><div>ê²°ì œ ê¸ˆì•¡</div><div id="amt" class="amt">-</div></div>
      <div id="negoWrap" style="display:none;margin-top:8px">
        <label class="mut" for="amtIn">í˜‘ì˜ ê¸ˆì•¡ ì…ë ¥</label>
        <input id="amtIn" class="ipt" type="number" min="0" step="1000" placeholder="ì˜ˆ: 50000" />
      </div>
    </section>

    <section class="card">
      <div class="mut">ê²°ì œ ë°©ë²• ì„ íƒ</div>
      <div class="btns">
        <button id="bankBtn" class="btn"><i class="ri-bank-card-line"></i> ë¬´í†µì¥ì…ê¸ˆ</button>
        <button id="cardBtn" class="btn pri"><i class="ri-credit-card-2-line"></i> ì¹´ë“œê²°ì œ</button>
      </div>
      <div id="bankInfo" class="bank" style="display:none">
        <div><b>ì…ê¸ˆ ê³„ì¢Œ</b></div>
        <div class="mut">êµ­ë¯¼ì€í–‰ 123-456-789012 Â· ì˜ˆê¸ˆì£¼: ë¼ì´ë¹„</div>
        <div class="mut">ì…ê¸ˆìëª…ì— ì˜¤í¼IDì˜ ë’¤ 4ìë¦¬ í¬í•¨ ë¶€íƒë“œë ¤ìš”.</div>
      </div>
    </section>

    <section class="card">
      <div class="mut">ì•ˆë‚´</div>
      <p style="margin-top:6px;color:#374151">ë³¸ í˜ì´ì§€ëŠ” ë°ëª¨ ê²°ì œ í™”ë©´ì…ë‹ˆë‹¤. ê²°ì œ ì™„ë£Œ í›„ â€œë³´ë‚¸ì œì•ˆâ€ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.</p>
      <div class="btns">
        <a class="btn" href="outbox-proposals.html"><i class="ri-arrow-go-back-line"></i> ë³´ë‚¸ì œì•ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
      </div>
    </section>
  </main>

  <div id="ok" class="ok" aria-hidden="true">
    <div class="sheet">
      <h3 style="margin:0 0 6px">ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤ ğŸ‰</h3>
      <div class="mut" id="okAmt"></div>
      <div style="display:flex;gap:8px;margin-top:12px;justify-content:flex-end">
        <a class="btn pri" href="outbox-proposals.html">ë³´ë‚¸ì œì•ˆìœ¼ë¡œ ì´ë™</a>
      </div>
    </div>
  </div>

  <script>
    (function(){
      const qs = new URLSearchParams(location.search);
      const offerId = qs.get('offer') || '-';
      const amountQ = qs.get('amount');
      const nego = !amountQ || amountQ === '0' || amountQ === '';
      const offerIdEl = document.getElementById('offerId');
      const amtEl = document.getElementById('amt');
      const ok = document.getElementById('ok');
      const okAmt = document.getElementById('okAmt');

      offerIdEl.textContent = offerId;
      if (nego){
        document.getElementById('negoWrap').style.display='block';
        amtEl.textContent = 'í˜‘ì˜';
      } else {
        const n = Number(amountQ||0);
        amtEl.textContent = n.toLocaleString() + 'ì›';
      }

      function getAmount(){
        if (!nego) return Number(amountQ||0);
        const v = Number(document.getElementById('amtIn').value||0);
        return Math.max(0, Math.floor(v));
      }

      document.getElementById('bankBtn').onclick = ()=>{
        document.getElementById('bankInfo').style.display='block';
      };

      document.getElementById('cardBtn').onclick = ()=>{
        const amt = getAmount();
        if (nego && !amt){ alert('í˜‘ì˜ ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”.'); return; }
        okAmt.textContent = (amt||0).toLocaleString() + 'ì› ê²°ì œë¨(ê°€ìƒ)';
        ok.classList.add('show');
        ok.setAttribute('aria-hidden','false');
      };
    })();
  </script>
</body>
</html>